@{
    ViewData["Title"] = "Quên mật khẩu";
    Layout = "_AuthLayout";
}

<div class="glass-card" style="max-width: 450px;">
    <div class="text-center mb-4">
        <h2 class="auth-title text-danger">Đặt Lại Mật Khẩu</h2>
        <p class="text-muted">Nhập thông tin để cấp lại mật khẩu mới</p>
    </div>

    @if (ViewBag.Message != null)
    {
        var msgType = ViewBag.MessageType == "error" ? "danger" : "success";
        <div class="alert alert-@msgType text-center">
            @ViewBag.Message
        </div>
    }

    <form asp-controller="Account" asp-action="ForgotPassword" method="post">
        <div class="mb-3">
            <label class="form-label fw-bold">Email đăng ký</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
                <input type="email" name="email" class="form-control" placeholder="Nhập email của bạn" required>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label fw-bold">Mật khẩu mới</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-key"></i></span>
                <input type="password" name="newPass" id="newPass" class="form-control" required placeholder="Nhập mật khẩu mới">
                <button class="btn btn-outline-secondary bg-white" type="button" onclick="togglePassword('newPass', 'iconNew')">
                    <i id="iconNew" class="fa-solid fa-eye"></i>
                </button>
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label fw-bold">Xác nhận mật khẩu</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fa-solid fa-shield-check"></i></span>
                <input type="password" name="confirmPass" id="cfPass" class="form-control" required placeholder="Xác nhận mật khẩu">
                <button class="btn btn-outline-secondary bg-white" type="button" onclick="togglePassword('cfPass', 'iconCf')">
                    <i id="iconCf" class="fa-solid fa-eye"></i>
                </button>
            </div>
        </div>

        <div class="d-grid mb-3">
            <button type="submit" class="btn btn-danger btn-lg fw-bold shadow-sm">ĐỔI MẬT KHẨU</button>
        </div>

        <div class="text-center">
            <a asp-action="Login" class="text-muted text-decoration-none"><i class="fa-solid fa-arrow-left me-1"></i> Quay lại Đăng nhập</a>
        </div>
    </form>
</div>